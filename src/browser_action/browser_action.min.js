var browserAction=function(){function e(e){var t=document.createElement("input");t.setAttribute("id","copyhelper"),document.body.appendChild(t),t.value=e,t.focus(),t.select(),document.execCommand("Copy"),t.remove()}chrome.storage.sync.get("jiraFilters",function(t){var a="";if(0!==Object.keys(t).length&&0!==Object.keys(t.jiraFilters).length){t=t.jiraFilters,window.console.log(t);for(var n in t)a+='<div class="list-group-item"><span class="filterName">'+t[n].name+'</span><span class="filterActions"><button class="share-mail share-btn glyphicon glyphicon-envelope" title="'+chrome.i18n.getMessage("ShareMail")+'" id="share_'+n+'" data-filter="'+btoa(JSON.stringify(t[n]))+'"></button><button class="copy share-btn glyphicon glyphicon-duplicate" title="'+chrome.i18n.getMessage("CopyClipboard")+'" id="share_'+n+'" data-filter="'+btoa(JSON.stringify(t[n]))+'"></button><button class="delete share-btn glyphicon glyphicon-trash" title="'+chrome.i18n.getMessage("DeleteFilter")+'" id="'+n+'"></button></span></div>'}else a='<div class="list-group-item active">'+chrome.i18n.getMessage("NoFilters")+"</div>";var i=document.querySelector("#item-list");i.innerHTML=a;for(var s=document.getElementsByClassName("share-mail"),r=0;r<s.length;r++)s[r].addEventListener("click",function(t){var a=document.getElementById(t.target.id),n=JSON.parse(atob(a.dataset.filter));e(chrome.i18n.getMessage("ShareMailPublish",n.filter)),chrome.runtime.sendMessage({type:"mail-share",data:a.dataset.filter})},!1);for(var l=document.getElementsByClassName("copy"),r=0;r<l.length;r++)l[r].addEventListener("click",function(t){var a=document.getElementById(t.target.id),n=JSON.parse(atob(a.dataset.filter));e(n.filter)},!1);for(var o=document.getElementsByClassName("delete"),r=0;r<o.length;r++)o[r].addEventListener("click",function(e){var t=document.getElementById(e.target.id);chrome.runtime.sendMessage({type:"delete-filter",data:{id:t.id}},function(e){e.status.deleted===!0&&window.close()})},!1)})}();document.addEventListener("DOMContentLoaded",browserAction,!1);