var browserAction=function(){chrome.storage.sync.get("jiraFilters",function(e){var t="";if(0!==Object.keys(e).length&&0!==Object.keys(e.jiraFilters).length){e=e.jiraFilters,window.console.log(e);for(var n in e)t+='<div class="list-group-item"><span class="filterName">'+e[n].name+'</span><span class="filterActions"><button class="share-mail share-btn glyphicon glyphicon-envelope" title="'+chrome.i18n.getMessage("ShareMail")+'" id="share_'+n+'" data-filter="'+btoa(JSON.stringify(e[n]))+'"></button><button class="copy share-btn glyphicon glyphicon-duplicate" title="'+chrome.i18n.getMessage("CopyClipboard")+'" id="share_'+n+'" data-filter="'+btoa(JSON.stringify(e[n]))+'"></button><button class="delete share-btn glyphicon glyphicon-trash" title="'+chrome.i18n.getMessage("DeleteFilter")+'" id="'+n+'"></button></span></div>'}else t='<div class="list-group-item active">'+chrome.i18n.getMessage("NoFilters")+"</div>";var a=document.querySelector("#item-list");a.innerHTML=t;for(var i=document.getElementsByClassName("share-mail"),s=0;s<i.length;s++)i[s].addEventListener("click",function(e){var t=document.getElementById(e.target.id);chrome.runtime.sendMessage({type:"mail-share",data:t.dataset.filter})},!1);for(var r=document.getElementsByClassName("copy"),s=0;s<r.length;s++)r[s].addEventListener("click",function(e){var t=document.getElementById(e.target.id),n=JSON.parse(atob(t.dataset.filter)),a=document.createElement("input");a.setAttribute("id","copyhelper"),document.body.appendChild(a),a.value=n.filter,a.focus(),a.select(),document.execCommand("Copy"),a.remove()},!1);for(var o=document.getElementsByClassName("delete"),s=0;s<o.length;s++)o[s].addEventListener("click",function(e){var t=document.getElementById(e.target.id);chrome.runtime.sendMessage({type:"delete-filter",data:{id:t.id}},function(e){e.status.deleted===!0&&window.close()})},!1)})}();document.addEventListener("DOMContentLoaded",browserAction,!1);